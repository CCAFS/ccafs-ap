<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 2.3//EN" "http://struts.apache.org/dtds/struts-2.3.dtd">
<struts>

  <package name="planning" namespace="/planning" extends="ccafsap-default">
    <default-interceptor-ref name="planningStackProjects" />
    <default-action-ref name="projects" />
    
    <action name="projects" class="org.cgiar.ccafs.ap.action.planning.ProjectsListPlanningAction">
      <result name="input">/WEB-INF/planning/projectsListPlanning.ftl</result>
    </action>
    
  </package>
  
  <package name="planningProjects" namespace="/planning/projects" extends="ccafsap-default">
    <default-interceptor-ref name="planningStackProjects" />
    <default-action-ref name="projects" />

    <!-- Sections -->
    
    <!-- Section: Projects  -->
    <action name="description" class="org.cgiar.ccafs.ap.action.planning.ProjectDescriptionPlanningAction">
      <result name="input">/WEB-INF/planning/projectDescriptionPlanning.ftl</result>
      <result name="success" type="redirectAction">
        <param name="actionName">description</param>
        <param name="projectID">${project.id}</param>
      </result>
      <result name="next" type="redirectAction">
        <param name="actionName">partners</param>
        <param name="projectID">${project.id}</param>
      </result>
      <result name="cancel" type="redirectAction">
        <param name="actionName">projects</param>
        <param name="namespace">/planning</param>
      </result>
    </action>
    
    <action name="partners" class="org.cgiar.ccafs.ap.action.planning.ProjectPartnersPlanningAction">
      <result name="input">/WEB-INF/planning/projectPartnersPlanning.ftl</result>
      <result name="success" type="redirectAction">
        <param name="actionName">partners</param>
        <param name="projectID">${project.id}</param>
      </result>
      <result name="next" type="redirectAction">
        <param name="actionName">budget</param>
        <param name="projectID">${project.id}</param>
      </result>
      <result name="cancel" type="redirectAction">
        <param name="actionName">projects</param>
        <param name="namespace">/planning</param>
      </result>
    </action>
    
    <action name="budget" class="org.cgiar.ccafs.ap.action.preplanning.ProjectBudgetPreplanningAction">
      <result name="input">/WEB-INF/planning/projectBudgetPlanning.ftl</result>
      <result name="success" type="redirectAction">
        <param name="actionName">budget</param>
        <param name="projectID">${project.id}</param>
      </result>
      <result name="next" type="redirectAction">
        <param name="actionName">projectOutcomes</param>
        <param name="projectID">${project.id}</param>
      </result>
      <result name="cancel" type="redirectAction">
        <param name="actionName">projects</param>
        <param name="namespace">/planning</param>
      </result>
    </action>
    
    <action name="projectOutcomes" class="org.cgiar.ccafs.ap.action.planning.ProjectOutcomeAction">
      <result name="input">/WEB-INF/planning/projectOutcomesPlanning.ftl</result>		
      <result name="success" type="redirectAction">		
        <param name="actionName">projectOutcomes</param>		
        <param name="projectID">${project.id}</param>		
      </result>
      <result name="next" type="redirectAction">
        <param name="namespace">/planning/activities</param>
        <param name="actionName">activities</param>
        <param name="projectID">${project.id}</param>
      </result>
      <result name="cancel" type="redirectAction">
        <param name="actionName">projects</param>
        <param name="namespace">/planning</param>
      </result>
    </action>
    
    <action name="partnerSave" class="org.cgiar.ccafs.ap.action.planning.PartnersSaveAction">
      <result name="input">/WEB-INF/global/pages/partnersSave.ftl</result>
      <result name="success" type="redirectAction">
        <param name="actionName">partnerSave</param>
      </result>
    </action>
    
    <!-- Section: Activities  -->
    <action name="activities" class="org.cgiar.ccafs.ap.action.planning.ActivitiesListAction">
      <result name="input">/WEB-INF/planning/activitiesListPlanning.ftl</result>
      <result name="success" type="redirectAction">
        <param name="namespace">/planning/projects/activities</param>
        <param name="actionName">activityDescription</param>
        <param name="activityID">${activityID}</param>
      </result>
    </action>


  </package>
  
  <package name="planningActivities" namespace="/planning/projects/activities" extends="ccafsap-default">
    <default-interceptor-ref name="planningStackActivities" />
   
    <!-- Section: Activities  -->
    <action name="activityDescription" class="org.cgiar.ccafs.ap.action.planning.ActivityDescriptionAction">
      <result name="cancel" type="redirectAction">projects</result>
      <result name="input">/WEB-INF/planning/activityDescriptionPlanning.ftl</result>
      <result name="success" type="redirectAction">
        <param name="actionName">activityDescription</param>
        <param name="activityID">${activity.id}</param>
      </result>
      <result name="next" type="redirectAction">
        <param name="actionName">activityPartners</param>
        <param name="activityID">${activity.id}</param>
      </result>
      <result name="cancel" type="redirectAction">
        <param name="actionName">activities</param>
        <param name="namespace">/planning/projects</param>
      </result>
    </action>
    
    <action name="activityPartners" class="org.cgiar.ccafs.ap.action.planning.ActivityPartnersAction">
      <result name="input">/WEB-INF/planning/activityPartnersPlanning.ftl</result>
      <result name="success" type="redirectAction">
        <param name="actionName">activityPartners</param>
        <param name="activityID">${activity.id}</param>
      </result>
      <result name="next" type="redirectAction">
        <param name="actionName">activityBudget</param>
        <param name="activityID">${activity.id}</param>
      </result>
      <result name="cancel" type="redirectAction">
        <param name="actionName">activities</param>
        <param name="namespace">/planning/projects</param>
      </result>
    </action>
    
    <action name="partnerSave" class="org.cgiar.ccafs.ap.action.planning.PartnersSaveAction">
      <result name="input">/WEB-INF/global/pages/partnersSave.ftl</result>
      <result name="success" type="redirectAction">
        <param name="actionName">partnerSave</param>
      </result>
    </action>

    <action name="activityBudget" class="org.cgiar.ccafs.ap.action.planning.ActivityBudgetAction">
      <result name="input">/WEB-INF/planning/activityBudgetPlanning.ftl</result>
      <result name="success" type="redirectAction">   
        <param name="actionName">activityLocations</param>   
        <param name="activityID">${activity.id}</param>   
      </result>
      <result name="next" type="redirectAction">
        <param name="actionName">activityImpactPathway</param>
        <param name="activityID">${activity.id}</param>
      </result>
      <result name="cancel" type="redirectAction">
        <param name="actionName">activities</param>
        <param name="namespace">/planning/projects</param>
      </result>
    </action>
    
    <action name="activityLocations" class="org.cgiar.ccafs.ap.action.planning.ActivityLocationsPlanningAction">
      <result name="input">/WEB-INF/planning/activityLocationsPlanning.ftl</result>
      <result name="success" type="redirectAction">   
        <param name="actionName">activityLocations</param>   
        <param name="activityID">${activity.id}</param>   
      </result>
      <result name="next" type="redirectAction">
        <param name="actionName">activityImpactPathway</param>
        <param name="activityID">${activity.id}</param>
      </result>
      <result name="cancel" type="redirectAction">
        <param name="actionName">activities</param>
        <param name="namespace">/planning/projects</param>
      </result>
    </action>
    
    <action name="activityImpactPathway" class="org.cgiar.ccafs.ap.action.planning.ActivityImpactPathwayAction">
      <result name="input">/WEB-INF/planning/activityImpactPathwayPlanning.ftl</result>
      <result name="success" type="redirectAction">   
        <param name="actionName">activityImpactPathway</param>   
        <param name="activityID">${activity.id}</param>   
      </result>
    </action>
        
    <action name="activityIpOtherContributions" class="org.cgiar.ccafs.ap.action.planning.ActivityIPOtherContributionAction">
      <result name="input">/WEB-INF/planning/activityipOtherContributionPlanning.ftl</result>
    </action>
    
    <action name="activityDeliverables" class="org.cgiar.ccafs.ap.action.planning.ActivityDeliverablesAction">
      <result name="input">/WEB-INF/planning/activityDeliverablesPlanning.ftl</result>
    </action>
  </package>
  
</struts>