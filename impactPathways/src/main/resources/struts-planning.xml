<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 2.3//EN" "http://struts.apache.org/dtds/struts-2.3.dtd">
<struts>

  <package name="planning" namespace="/planning" extends="ccafsap-default">
    <default-interceptor-ref name="planningStackProjects" />
    <default-action-ref name="projects" />
    
    <action name="projectsList" class="org.cgiar.ccafs.ap.action.projects.ProjectsListPlanningAction">
      <result name="input">/WEB-INF/projects/projectsListPlanning.ftl</result>
    </action>
    
    <action name="deleteProject" method="delete" class="org.cgiar.ccafs.ap.action.projects.ProjectsListPlanningAction">
      <result name="success" type="redirectAction">
        <param name="actionName">projectsList</param>
        <param name="namespace">/planning</param>
      </result>
    </action>
    
    <action name="addNewCoreProject" method="addCoreProject" class="org.cgiar.ccafs.ap.action.projects.ProjectsListPlanningAction">
      <result name="input">/WEB-INF/projects/projectsListPlanning.ftl</result>
      <result name="success" type="redirectAction">
        <param name="namespace">/planning/projects</param>
        <param name="actionName">description</param>
        <param name="projectID">${projectID}</param>
        <param name="edit">true</param>
      </result>
    </action>
    
    <action name="addNewBilateralProject" method="addBilateralProject" class="org.cgiar.ccafs.ap.action.projects.ProjectsListPlanningAction">
      <result name="input">/WEB-INF/projects/projectsListPlanning.ftl</result>
      <result name="success" type="redirectAction">
        <param name="namespace">/planning/projects</param>
        <param name="actionName">description</param>
        <param name="projectID">${projectID}</param>
        <param name="edit">true</param>
      </result>
    </action>

    <action name="addCoFundedProject" class="org.cgiar.ccafs.ap.action.projects.AddCofoundedProjectPlanningAction">
      <result name="input">/WEB-INF/global/pages/addCoFundedProject.ftl</result>
      <result name="success" type="redirectAction">
        <param name="namespace">/planning/projects</param>
        <param name="actionName">description</param>
        <param name="projectID">${coreProjectID}</param>
        <param name="edit">true</param>
      </result>
    </action>

  </package>
  
  <package name="planningProjects" namespace="/planning/projects" extends="ccafsap-default">
    <default-interceptor-ref name="planningStackProjects" />
    <default-action-ref name="projects" />

    <!-- Sections -->
    
    <!-- Section: Projects  -->
   
    <action name="description" class="org.cgiar.ccafs.ap.action.projects.ProjectDescriptionPlanningAction">
      <result name="input">/WEB-INF/projects/projectDescriptionPlanning.ftl</result>
      <result name="success" type="redirectAction">
        <param name="actionName">description</param>
        <param name="projectID">${project.id}</param>
      </result>
      <result name="next" type="redirectAction">
        <param name="actionName">partners</param>
        <param name="projectID">${project.id}</param>
      </result>
      <result name="cancel" type="redirectAction">
        <param name="actionName">description</param>
        <param name="projectID">${project.id}</param>
      </result>
    </action>
    
    <!-- Partners  -->
    
    <action name="partners" class="org.cgiar.ccafs.ap.action.projects.ProjectPartnersPlanningAction">
      <result name="input">/WEB-INF/projects/projectPartnersPlanning.ftl</result>
      <result name="success" type="redirectAction">
        <param name="actionName">partners</param>
        <param name="projectID">${project.id}</param>
      </result>
      <result name="next" type="redirectAction">
        <param name="actionName">locations</param>
        <param name="projectID">${project.id}</param>
      </result>
      <result name="cancel" type="redirectAction">
        <param name="actionName">partners</param>
        <param name="projectID">${project.id}</param>
      </result>
    </action>

    <action name="locations" class="org.cgiar.ccafs.ap.action.projects.ProjectLocationsPlanningAction">
      <result name="input">/WEB-INF/projects/projectLocationsPlanning.ftl</result> 
      <result name="success" type="redirectAction">
        <param name="actionName">locations</param>
        <param name="projectID">${project.id}</param>
      </result>
      <result name="next" type="redirectAction">
        <param name="actionName">outcomes</param>
        <param name="projectID">${project.id}</param>
      </result>
      <result name="cancel" type="redirectAction">
        <param name="actionName">locations</param>
        <param name="projectID">${project.id}</param>
      </result>
    </action>
    
    <!-- Project Outcomes  -->
    
    <action name="outcomes" class="org.cgiar.ccafs.ap.action.projects.ProjectOutcomesPlanningAction">
      <result name="input">/WEB-INF/projects/projectOutcomesPlanning.ftl</result>		
      <result name="success" type="redirectAction">		
        <param name="actionName">outcomes</param>		
        <param name="projectID">${project.id}</param>		
      </result>
      <result name="next" type="redirectAction">
        <param name="actionName">ccafsOutcomes</param>
        <param name="projectID">${project.id}</param>
      </result>
      <result name="cancel" type="redirectAction">
        <param name="actionName">outcomes</param>
        <param name="projectID">${project.id}</param>
      </result>
    </action>
    
    <action name="ccafsOutcomes" class="org.cgiar.ccafs.ap.action.projects.ProjectCCAFSOutcomesPlanningAction">
      <result name="input">/WEB-INF/projects/projectCCAFSOutcomesPlanning.ftl</result>   
      <result name="success" type="redirectAction">   
        <param name="actionName">ccafsOutcomes</param>    
        <param name="projectID">${project.id}</param>   
      </result>
      <result name="next" type="redirectAction">
        <param name="actionName">otherContributions</param>
        <param name="projectID">${project.id}</param>
      </result>
      <result name="cancel" type="redirectAction">
        <param name="actionName">ccafsOutcomes</param>
        <param name="projectID">${project.id}</param>
      </result>
    </action>

    <action name="otherContributions" class="org.cgiar.ccafs.ap.action.projects.ProjectIPOtherContributionAction">
      <result name="input">/WEB-INF/projects/projectOtherContributionPlanning.ftl</result>
      <result name="success" type="redirectAction">   
        <param name="actionName">otherContributions</param>
        <param name="projectID">${project.id}</param>   
      </result>
      <result name="next" type="redirectAction">
        <param name="actionName">outputs</param>
        <param name="projectID">${project.id}</param>
      </result>
      <result name="cancel" type="redirectAction">
        <param name="actionName">otherContributions</param>
        <param name="projectID">${project.id}</param>
      </result>
    </action>
    
    <!-- Project Outputs  -->
    
    <action name="outputs" class="org.cgiar.ccafs.ap.action.projects.ProjectOutputsPlanningAction">
      <result name="input">/WEB-INF/projects/projectOutputsPlanning.ftl</result>
      <result name="success" type="redirectAction">   
        <param name="actionName">outputs</param>
        <param name="projectID">${project.id}</param>   
      </result>
      <result name="next" type="redirectAction">
        <param name="actionName">deliverablesList</param>
        <param name="projectID">${project.id}</param>
      </result>
      <result name="cancel" type="redirectAction">
        <param name="actionName">outputs</param>
        <param name="projectID">${project.id}</param>
      </result>
    </action>
    
    <action name="deliverablesList" class="org.cgiar.ccafs.ap.action.projects.ProjectDeliverablesListAction">
      <result name="input">/WEB-INF/projects/projectDeliverablesListPlanning.ftl</result>
    </action>
    
    <action name="addNewDeliverable" method="add" class="org.cgiar.ccafs.ap.action.projects.ProjectDeliverablesListAction">
      <result name="input">/WEB-INF/projects/projectDeliverablesListPlanning.ftl</result>
      <result name="success" type="redirectAction">
        <param name="namespace">/planning/projects</param>
        <param name="actionName">deliverable</param>
        <param name="deliverableID">${deliverableID}</param>
        <param name="edit">true</param>
      </result>
    </action>
    
    <action name="deleteDeliverable" method="delete" class="org.cgiar.ccafs.ap.action.projects.ProjectDeliverablesListAction">
      <result name="success" type="redirectAction">
        <param name="namespace">/planning/projects</param>
        <param name="actionName">deliverablesList</param>
        <param name="projectID">${projectID}</param>
      </result>
    </action>
    
    <action name="deliverable" class="org.cgiar.ccafs.ap.action.projects.ProjectDeliverableAction">
      <interceptor-ref name="planningStackDeliverables" />
      <result name="input">/WEB-INF/projects/projectDeliverablePlanning.ftl</result>
      <result name="success" type="redirectAction">
        <param name="actionName">deliverable</param>
        <param name="deliverableID">${deliverable.id}</param>
      </result>
      <result name="next" type="redirectAction">
        <param name="actionName">impactPathway</param>
        <param name="deliverableID">${deliverable.id}</param>
      </result>
      <result name="cancel" type="redirectAction">
        <param name="actionName">deliverable</param>
        <param name="deliverableID">${deliverable.id}</param>
      </result>
    </action>

    <action name="impactPathway" class="org.cgiar.ccafs.ap.action.projects.ProjectImpactPathwayAction">
      <result name="input">/WEB-INF/projects/projectImpactPathwayPlanning.ftl</result>
      <result name="success" type="redirectAction">   
        <param name="actionName">impactPathway</param>    
        <param name="projectID">${project.id}</param>   
      </result>
      <result name="next" type="redirectAction">
        <param name="actionName">activities</param>
        <param name="projectID">${project.id}</param>
      </result>
      <result name="cancel" type="redirectAction">
        <param name="actionName">impactPathway</param>
        <param name="projectID">${project.id}</param>
      </result>
    </action>
    
    <action name="partnerSave" class="org.cgiar.ccafs.ap.action.projects.PartnersSaveAction">
      <result name="input">/WEB-INF/global/pages/partnersSave.ftl</result>
      <result name="success" type="redirectAction">
        <param name="actionName">partnerSave</param>
      </result>
    </action>
    
    <!-- Section: Activities  -->
    
    <action name="activities" class="org.cgiar.ccafs.ap.action.projects.ActivitiesListAction">
      <result name="input">/WEB-INF/projects/projectActivitiesListPlanning.ftl</result>
      <result name="success" type="redirectAction">
        <param name="actionName">activities</param>
        <param name="projectID">${project.id}</param>
      </result>
      <result name="next" type="redirectAction">
        <param name="actionName">budget</param>
        <param name="projectID">${project.id}</param>
      </result>
      <result name="cancel" type="redirectAction">
        <param name="actionName">activities</param>
        <param name="projectID">${project.id}</param>
      </result>
    </action>
    
    <!-- Project Budget  -->
    
    <action name="budget" class="org.cgiar.ccafs.ap.action.projects.ProjectBudgetsPlanningAction">
      <result name="input">/WEB-INF/projects/projectBudgetPlanning.ftl</result>
      <result name="success" type="redirectAction">
        <param name="actionName">budget</param>
        <param name="projectID">${project.id}</param>
        <param name="year">${year}</param>
      </result>
      <result name="next" type="redirectAction">
        <param name="actionName">budgetByMog</param>
        <param name="projectID">${project.id}</param>
      </result>
      <result name="cancel" type="redirectAction">
        <param name="actionName">budget</param>
        <param name="projectID">${project.id}</param>
      </result>
    </action>
    
    <action name="budgetByMog" class="org.cgiar.ccafs.ap.action.projects.ProjectBudgetByMOGPlanningAction">
      <result name="input">/WEB-INF/projects/projectBudgetByMogPlanning.ftl</result>
      <result name="success" type="redirectAction">
        <param name="actionName">budgetByMog</param>
        <param name="projectID">${project.id}</param>
        <param name="year">${targetYear}</param>
      </result>
      <result name="next" type="redirectAction">
        <param name="actionName">projectsList</param>
        <param name="namespace">/planning</param>
      </result>
      <result name="cancel" type="redirectAction">
        <param name="actionName">budgetByMog</param>
        <param name="projectID">${project.id}</param>
      </result>
    </action>
    
    <!-- Project Submission -->
    <action name="submit" class="org.cgiar.ccafs.ap.action.projects.ProjectSubmissionAction">
      <result name="input">/WEB-INF/projects/projectSubmission.ftl</result>
      <result name="success" type="redirectAction">
        <param name="actionName">submit</param>
        <param name="projectID">${projectID}</param>        
      </result>
    </action>      
  </package>  
</struts>
